(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{68:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return s})),t.d(a,"metadata",(function(){return c})),t.d(a,"rightToc",(function(){return l})),t.d(a,"default",(function(){return d}));var r=t(2),o=t(6),n=(t(0),t(76)),i=t(78),s={id:"entendiendo-la-capa-gratuita-de-gcp-cloud-run",title:"Entendiendo la capa gratuita de GCP\u200a\u2014\u200aCloud Run",description:"Serie de art\xedculos que te ayudar\xe1 a sacar el m\xe1ximo provecho a Google Cloud sin pagar de m\xe1s , ahora veremos Cloud Pub/Sub.",keywords:["Google Cloud Platform","Gcp","Cloud","Economy","Billing","Cloud run"],image:"./portada.jpeg"},c={unversionedId:"articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run",id:"articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run",isDocsHomePage:!1,title:"Entendiendo la capa gratuita de GCP\u200a\u2014\u200aCloud Run",description:"Serie de art\xedculos que te ayudar\xe1 a sacar el m\xe1ximo provecho a Google Cloud sin pagar de m\xe1s , ahora veremos Cloud Pub/Sub.",source:"@site/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run.mdx",slug:"/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run",permalink:"/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run.mdx",version:"current",sidebar:"someSidebar",previous:{title:"Entendiendo la capa gratuita de GCP\u200a\u2014\u200aBigquery",permalink:"/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-bigquery"},next:{title:"Vigila el uso de la capa gratuita desde Data Studio",permalink:"/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio"}},l=[{value:"Cloud Run y la Capa Gratuita",id:"cloud-run-y-la-capa-gratuita",children:[]},{value:"Uso de otros servicios",id:"uso-de-otros-servicios",children:[]},{value:"Google Cloud Build",id:"google-cloud-build",children:[]},{value:"Cloud Container Registry",id:"cloud-container-registry",children:[]},{value:"Cloud DNS",id:"cloud-dns",children:[]}],u={rightToc:l};function d(e){var a=e.components,t=Object(o.a)(e,["components"]);return Object(n.b)("wrapper",Object(r.a)({},u,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)(i.a,{Photo:"https://miro.medium.com/fit/c/256/256/2*XKiHV-3_LJvO6xeiGKheDQ.png",Name:"Felipe Velasquez Castro",Position:"Google Developer Expert",mdxType:"Writter"}),Object(n.b)("p",null,"Serie de art\xedculos que te ayudar\xe1 a sacar el m\xe1ximo provecho a Google Cloud sin pagar de m\xe1s, en esta ocasi\xf3n veremos Cloud Run"),Object(n.b)("p",null,Object(n.b)("img",Object(r.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/3840/1*i54y4m22z56f1on_8CBzWw.jpeg",alt:null}))),Object(n.b)("p",null,"Continuando con los servicios de GCP que nos permitir\xe1n optimizar nuestro gasto en infraestructura esta tu mejor amigo, ",Object(n.b)("strong",{parentName:"p"},"Cloud Run"),", este es un servicio full administrado para la ejecuci\xf3n de contenedores. Capaz de hacerse cargo de tu aplicaci\xf3n en todos los aspectos."),Object(n.b)("p",null,"Cloud Run permite desde una imagen Docker, ejecutar un contenedor en modalidad serverless, capaz de escalar desde cero a la cantidad de instancias necesarias para satisfacer la demanda de tu servicio."),Object(n.b)("p",null,"Puedes servir el lenguaje que desees mientras sea soportada por la arquitectura de Docker no hay problema."),Object(n.b)("p",null,"Dentro de las \xfaltimas ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://cloud.google.com/run/docs/release-notes"}),"noticias")," que nos dio el Cloud Next en Londres es que Cloud Run paso de Beta a GA (General Availability)"),Object(n.b)("h2",{id:"cloud-run-y-la-capa-gratuita"},"Cloud Run y la Capa Gratuita"),Object(n.b)("p",null,"En teor\xeda podr\xedamos decir que Cloud Run tiene componentes en la capa ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://cloud.google.com/run/pricing"}),"gratuita de GCP"),", sin embargo si lo utilizamos en Latino Am\xe9rica no podremos hacer exentos de pago, veamos por que."),Object(n.b)("p",null,Object(n.b)("img",Object(r.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2000/0*rImHW72m_zff9P6Z.png",alt:null}))),Object(n.b)("p",null,"Como vemos en la imagen anterior Cloud Run cuenta con todos los componentes necesarios para operar de forma completamente gratuita, sin embargo en lo que respecta Networking presenta una limitancia ya que solo cuenta con ",Object(n.b)("strong",{parentName:"p"},"1GB")," de salida de datos hacia Norte Am\xe9rica. Por lo tanto si nuestros clientes est\xe1n en cualquier otro lugar tendremos que pagar aun que son solo moneditas (",Object(n.b)("em",{parentName:"p"},"0,105 USD/GB"),")"),Object(n.b)("p",null,"Otro aspecto importante a considera en cuanto al tiempo de uso de CPU del cual los primeros 180.000 segundos son gratuitos, debemos tener en cuenta que siempre redondear\xe1 hacia arriba a los pr\xf3ximos 100 milisegundos."),Object(n.b)("p",null,"Junto con lo anterior es importante saber la forma en la que se calculan los segundos de computo, ya que si tu instancia estaba escalada a 0 y llega un request esta se inicia y comienza a cobrar hasta que se resuelva el request, sin embargo, si durante el procesamiento del primer request se inicia un segundo request el tiempo de procesamiento que se cobrar\xe1 sera en total desde que se inicio el primer request hasta que termino de procesar el segundo."),Object(n.b)("p",null,Object(n.b)("img",Object(r.a)({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2048/0*l-Ao7Tah5Uc27Vao.png",alt:null}))),Object(n.b)("h2",{id:"uso-de-otros-servicios"},"Uso de otros servicios"),Object(n.b)("p",null,"Para usar Cloud Run de forma \xf3ptima es necesario utilizar otros servicios de GCP los cuales tienes su propia capa gratuita y l\xedmites."),Object(n.b)("h2",{id:"google-cloud-build"},"Google Cloud Build"),Object(n.b)("p",null,"Ya que Cloud Run trabaja con im\xe1genes Docker es necesario hacer el build de tu Dockerfile y tu c\xf3digo y para esto Cloud Build te da ",Object(n.b)("strong",{parentName:"p"},"120 minutos")," mensuales de construcci\xf3n de im\xe1genes, una vez creada la imagen Cloud Build puede depositarala en ",Object(n.b)("strong",{parentName:"p"},"Cloud Container Registry"),"."),Object(n.b)("h2",{id:"cloud-container-registry"},"Cloud Container Registry"),Object(n.b)("p",null,"Para realizar el despliegue de un servicio en Cloud Run es necesario elegir una de las im\xe1genes que se encuentran en Cloud Container Registry, el costo de este servicio esta dado por el uso de almacenamiento en ",Object(n.b)("strong",{parentName:"p"},"Google Cloud Storage")," de la im\xe1genes almacenadas. Por lo tanto recuerda que para que GCS sea sin costo solo tienes ",Object(n.b)("strong",{parentName:"p"},"5GB")," de storage regional. Por lo tanto te recomiendo que uses un Container Registry Regional como ",Object(n.b)("strong",{parentName:"p"},"us.gcr.io"),", del cual seg\xfan la ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://cloud.google.com/run/pricing"}),"documentaci\xf3n")," el despliegue en regiones dentro de ",Object(n.b)("strong",{parentName:"p"},"us")," es sin costo."),Object(n.b)("h2",{id:"cloud-dns"},"Cloud DNS"),Object(n.b)("p",null,"La capacidad de asociar un dominio o subdominio en un par de click a uno de nuestros servicios en Cloud Run es una de la caracter\xedsticas m\xe1s llamativas, sin embargo esta caracter\xedstica no forma parte de la capa gratuita sino que se basa en los costos de Cloud DNS los que puedes ver ",Object(n.b)("a",Object(r.a)({parentName:"p"},{href:"https://cloud.google.com/dns/pricing"}),"aqu\xed"),", los cuales rondan los USD $0.40 por mill\xf3n de request, si que el impacto en los costos deber\xeda ser \xednfimo."),Object(n.b)("p",null,"Hasta qui con Cloud Run, no sin lugar a dudas la versatilidad de este servicio lo volver\xe1 tu mejor amigo y siempre es bueno saber a que costos te enfrentas al utilizar este maravilloso servicio."))}d.isMDXComponent=!0},76:function(e,a,t){"use strict";t.d(a,"a",(function(){return d})),t.d(a,"b",(function(){return g}));var r=t(0),o=t.n(r);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function c(e,a){if(null==e)return{};var t,r,o=function(e,a){if(null==e)return{};var t,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||(o[t]=e[t]);return o}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=o.a.createContext({}),u=function(e){var a=o.a.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},d=function(e){var a=u(e.components);return o.a.createElement(l.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return o.a.createElement(o.a.Fragment,{},a)}},m=o.a.forwardRef((function(e,a){var t=e.components,r=e.mdxType,n=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=u(t),m=r,g=d["".concat(i,".").concat(m)]||d[m]||p[m]||n;return t?o.a.createElement(g,s(s({ref:a},l),{},{components:t})):o.a.createElement(g,s({ref:a},l))}));function g(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var n=t.length,i=new Array(n);i[0]=m;var s={};for(var c in a)hasOwnProperty.call(a,c)&&(s[c]=a[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<n;l++)i[l]=t[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},78:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var r=t(0),o=t.n(r);const n=({children:e,Name:a,Photo:t,Position:r})=>o.a.createElement("div",{className:"writter"},e,o.a.createElement("div",{className:"ilb"},o.a.createElement("a",{href:t},o.a.createElement("img",{alt:a,className:"",src:t,width:"80",height:"80"}))),o.a.createElement("div",{className:"ilb"},o.a.createElement("div",{className:""},o.a.createElement("p",{className:""},"Written by")),o.a.createElement("div",{className:""},o.a.createElement("h2",{className:""},a),o.a.createElement("div",{className:""})),o.a.createElement("div",{className:""},o.a.createElement("h4",{className:""},r))))}}]);