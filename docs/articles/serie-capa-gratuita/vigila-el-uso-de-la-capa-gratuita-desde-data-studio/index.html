<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-179564597-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Vigila la capa gratuita desde Data Studio | Cloud Articles Repo</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Vigila la capa gratuita desde Data Studio | Cloud Articles Repo"><meta data-react-helmet="true" name="description" content="Serie de art√≠culos que te ayudar√° a sacar el m√°ximo provecho a Google Cloud sin pagar de m√°s."><meta data-react-helmet="true" property="og:description" content="Serie de art√≠culos que te ayudar√° a sacar el m√°ximo provecho a Google Cloud sin pagar de m√°s."><meta data-react-helmet="true" name="keywords" content="Google Cloud Platform,Gcp,Cloud,Economy,Billing,Data Studio"><meta data-react-helmet="true" property="og:image" content="https://cloud-docs.github.io/./portada.jpeg"><meta data-react-helmet="true" property="twitter:image" content="https://cloud-docs.github.io/./portada.jpeg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Vigila la capa gratuita desde Data Studio"><meta data-react-helmet="true" property="og:url" content="https://cloud-docs.github.io/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cloud-docs.github.io/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio"><link rel="stylesheet" href="/styles.36cc8dcc.css">
<link rel="preload" href="/styles.013c8d47.js" as="script">
<link rel="preload" href="/runtime~main.46f622b5.js" as="script">
<link rel="preload" href="/main.073d793c.js" as="script">
<link rel="preload" href="/1.e703ecdf.js" as="script">
<link rel="preload" href="/2.dc528ce7.js" as="script">
<link rel="preload" href="/1be78505.fb3d6394.js" as="script">
<link rel="preload" href="/c4f5d8e4.00e30a00.js" as="script">
<link rel="preload" href="/23.03cd1ab6.js" as="script">
<link rel="preload" href="/22.4a7e3a59.js" as="script">
<link rel="preload" href="/935f2afb.8f17e356.js" as="script">
<link rel="preload" href="/17896441.3fab2027.js" as="script">
<link rel="preload" href="/6b8f661a.d8f7b8ca.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="GDG Cloud Santiago"><strong class="navbar__title">GDG Cloud Santiago</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gdgcloudsantiagoapp/technical-articles" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="GDG Cloud Santiago"><strong class="navbar__title">GDG Cloud Santiago</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/gdgcloudsantiagoapp/technical-articles" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Example</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Style Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Articulos</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Capa Gratuita</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp">Entendiendo la capa gratuita de GCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-functions">Cloud Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-pub-sub">Cloud Pub/Sub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-storage">Cloud Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-bigquery">Bigquery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run">Cloud Run</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio">Vigila la capa gratuita desde Data Studio</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio">Vigila la capa gratuita desde Data Studio</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Recorrido por GCP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/un-recorrido-por-gcp/un-recorrido-por-gcp-intro">Un Recorrido por GCP - Introducci√≥n</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/un-recorrido-por-gcp/un-recorrido-por-gcp-marketplace">Google Cloud Marketplace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/un-recorrido-por-gcp/un-recorrido-por-gcp-billing">Google Cloud Billing Admin</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Arquitecturas</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architectures/nivelacion-kubernetes">Nivelaci√≥n Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/doc3">This is Document Number 3</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Vigila la capa gratuita desde Data Studio</h1></header><div class="markdown"><div class="writter"><div class="ilb"><a href="https://miro.medium.com/fit/c/256/256/2*XKiHV-3_LJvO6xeiGKheDQ.png"><img alt="Felipe Velasquez Castro" src="https://miro.medium.com/fit/c/256/256/2*XKiHV-3_LJvO6xeiGKheDQ.png" width="80" height="80"></a></div><div class="ilb"><div><p>Written by</p></div><div><h2>Felipe Velasquez Castro</h2><div></div></div><div><h4>Google Developer Expert</h4></div></div></div><p>Serie de art√≠culos que te ayudar√° a sacar el m√°ximo provecho a Google Cloud sin pagar de m√°s.</p><p><img src="https://cdn-images-1.medium.com/max/3838/0*8HSigGQ2aGGKLszK"></p><p>Como ya hemos visto en los <a href="https://github.com/develasquez/understanding-gcp-free-tier/blob/master/seasons/S00/README.md" target="_blank" rel="noopener noreferrer">art√≠culos anteriores</a> podemos sacar mucho provecho a la capa gratuita de Google Cloud Platform, pero hacerlo a ciegas es muy peligros y no nos da espacio para la optimizaci√≥n. Por eso en este articulo veremos como sacar m√°s provecho a la <strong>exportaci√≥n de Billing hacia BigQuery</strong>, construiremos una schedule query para procesar esos datos y finalmente clonaremos un Dashboard de Data Studio para la visualizaci√≥n de nuestro costos y tener bajo control el uso de la capa gratuita.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="administraci√≥n-del-billing"></a>Administraci√≥n del Billing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#administraci√≥n-del-billing" title="Direct link to heading">#</a></h2><p>Como ya sabr√°s, los costos son unos de los pilares de la nube y en el caso de Google Cloud tenemos control absoluto de estos, para ello se encuentra a nuestra disposici√≥n la exportaci√≥n de Billing hacia <a href="https://github.com/develasquez/understanding-gcp-free-tier/blob/master/seasons/S01/bigquery.md" target="_blank" rel="noopener noreferrer">BigQuery</a>, esto incluye todos y cada uno de los gastos que se realizan dentro de la plataforma asociados a un mismo Billing ID.</p><p>Esto quiere decir que tendremos una tabla en BigQuery que recibir√° cada uno de los eventos que produzcan un gasto, de cada uno de los productos o servicios que est√©s utilizando dentro de GCP. Si tomamos como ejemplo Cloud Run, cada request, uso de CPU, memoria, red, entre otros, ser√°n registrados en la base de datos junto con el costo asociado a su uso.</p><p>A continuaci√≥n un peque√±o ejemplo de los aspectos recopilados para Cloud Run. Si no puedes ejecutar esta query no te angusties m√°s adelante en el articulo veremos como.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">**SELECT** </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    service.id as service_id,   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    service.description as service_description, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sku.id as sku_id,   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sku.description as sku_description,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    count (1) events</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**FROM** `&lt;PROJECT_ID&gt;.&lt;SCHEMA_ID&gt;.gcp_billing_export_v1_&lt;BILLING_ID&gt;` </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**WHERE** DATE(_PARTITIONTIME) = &quot;2019-12-02&quot; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    AND service.description = &quot;Cloud Run&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**GROUP BY** up by billing_account_id,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    service.id,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    service.description,    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sku.id, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sku.description</span></div></div></div></div></div><p>El resultado de la query luce como este</p><p><img src="https://cdn-images-1.medium.com/max/2000/0*Dg2qBVuLbYMlS4WF.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="habilitando-la-exportaci√≥n-de-billing"></a>Habilitando la exportaci√≥n de Billing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#habilitando-la-exportaci√≥n-de-billing" title="Direct link to heading">#</a></h2><p>Esta funcionalidad no viene activada por defecto para tus proyectos en Google Cloud y basta con que lo realices solamente una vez y desde alguno de tus proyectos en el que cuentes con permisos de Billing en IAM.</p><p>Para que la magia ocurra y por fin tener habilitada la exportaci√≥n hacia BigQuery lo primero que debes hacer es crear un Dataset en BigQuery, lo podr√≠as hacer por interfaz gr√°fica pero es m√°s r√°pido con un comando.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">*#Creamos el dataset*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">bq --location=US mk --dataset --description &quot;Dataset principal de billing&quot; ${PROJECT_ID}:free_tier_dashboard</span></div></div></div></div></div><p>A continuaci√≥n en tu consola web debes realizar los siguientes pasos:</p><ol><li><p>Ve al men√∫ Billing/Billing Export</p></li><li><p>Crea una exportaci√≥n de Billing</p></li><li><p>Selecciona el proyecto donde esta el Dataset que acabamos de crear</p></li></ol><p>La siguiente im√°gen lo aclara todo‚Ä¶</p><p><img src="https://cdn-images-1.medium.com/max/2000/0*GnnYSuqDfux-nZD3.png"></p><p>Listo, ya esta configurado, a partir de ahora cada acci√≥n dentro de la plataforma ser√° registrada en la base de datos y podremos saber con certeza cuanto se esta gastando en cada uno de los productos que tenemos corriendo a lo largo de todos nuestros proyectos.</p><p>Ahora veremos como crear un Dashboard en Datastudio para analizar esos datos, lo que debes tener en cuenta es que los datos se registrar√°n solo despu√©s de que realices la configuraci√≥n de la exportaci√≥n y para que el Dashboard muestre informaci√≥n deben existir componentes creados, ya sea Cloud Functions, Storage, Compute Engine, entre otros, es decir, puedes crear cualquier componente de la capa gratuita y generar uso o tr√°fico para verlo reflejado en los registros de BigQuery.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="preparando-los-datos-para-el-dashboard"></a>Preparando los datos para el Dashboard<a aria-hidden="true" tabindex="-1" class="hash-link" href="#preparando-los-datos-para-el-dashboard" title="Direct link to heading">#</a></h2><p>Ya que tenemos habilitada la exportaci√≥n de billing, tenemos mejor visibilidad de lo que ocurre con nuestros servicios corriendo en GCP, sin embargo esto tambi√©n podr√≠a tener repercusiones en los costos, ya que la tabla de exportaci√≥n de billing seguir√° creciendo para siempre, por lo tanto, debemos crear una tabla con los datos pre procesados para el Dashboard, de esta forma las queries ser√°n m√°s econ√≥micas al realizarlas sobre un conjunto menor de datos, los cuales ya est√°n agrupados y contiene solo lo que el reporte necesita.</p><p>La mejor forma de hacerlo es con una Schedule Query, que se ejecute una vez al d√≠a, para hacerlo debes seguir estos pasos.</p><p>Toma esta query y llevala a BigQuery</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">**SELECT**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  IFNULL(project.id, &quot;No Project&quot;) AS porject_id,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  IFNULL(service.description, &quot;No Service Description&quot;) AS service_description,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  IFNULL(sku.description, &quot;No SKU Description&quot;) AS sku_desciption,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  IFNULL(invoice.month, &quot;No Invoice Month&quot;) AS invoice_month,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  IFNULL(CASE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      WHEN usage.unit = &quot;bytes&quot; THEN &quot;GB&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      WHEN usage.unit = &quot;seconds&quot; THEN &quot;Hrs&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      WHEN usage.unit = &quot;byte-seconds&quot; THEN &quot;GB-Month&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  END, &quot;No Usage Unit&quot;)AS usage_unit,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  IFNULL(location.location, &quot;No Location&quot;) AS location_location,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  SUM(IFNULL(CASE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        WHEN usage.unit = &quot;bytes&quot; THEN IFNULL(usage.amount, 0)/1073741824</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        WHEN usage.unit = &quot;seconds&quot; THEN IFNULL(usage.amount, 0)/3600</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        WHEN usage.unit = &quot;byte-seconds&quot; THEN IFNULL(usage.amount, 0)/720000576000000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ELSE IFNULL(usage.amount,0)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    END, 0)) AS usage_amount,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  SUM(IFNULL(usage.amount_in_pricing_units, 0)) AS usage_amount_in_pricing_units,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  _PARTITIONTIME AS export_time, SUM(IFNULL(cost, 0)) AS cost,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  SUM(IFNULL(( SELECT SUM(c.amount) FROM UNNEST(credits) c), 0)) AS credits,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  SUM(IFNULL(cost, 0)) + SUM(IFNULL(( SELECT SUM(c.amount) FROM UNNEST(credits) c), 0)) AS final_cost</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**FROM**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `&lt;PROJECT_ID&gt;.&lt;SCHEMA_ID&gt;.gcp_billing_export_v1_&lt;BILLING_ID&gt;`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**GROUP BY**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  project.id,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  service.description,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  sku.description,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  invoice.month,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  usage.unit,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  location.country,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  location.location,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  _PARTITIONTIME</span></div></div></div></div></div><p>A partir de esta consulta crearemos el schedule diario, para ello, dale click al bot√≥n ‚ÄúSchedule Query‚Äù y luego a ‚ÄúCreate Schedule Query‚Äù, a continuaci√≥n ingresa los valores que se muestran en la siguiente imagen.</p><p><img src="https://cdn-images-1.medium.com/max/2000/0*NzHB95lS2gyRPDPy.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="manos-a-la-obra-con-data-studio"></a>Manos a la obra con Data Studio<a aria-hidden="true" tabindex="-1" class="hash-link" href="#manos-a-la-obra-con-data-studio" title="Direct link to heading">#</a></h2><p>Data Studio es una una herramienta de reporting muy vers√°til, capaz de conectarse con m√∫ltiples or√≠genes de datos, y en este caso su conexi√≥n con BigQuery es nativa.</p><p>Para tener tu propia copia del Dashboard, debes entrar a <a href="https://datastudio.google.com/s/pj6gCfLTuGA" target="_blank" rel="noopener noreferrer">**este reporte</a>** y seguir las instrucciones de copiado que se encuentran en la √∫ltima p√°gina.</p><p><img src="https://cdn-images-1.medium.com/max/3360/0*InY05R-iblsbOTzU.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="conozcamos-el-dashboard"></a>Conozcamos el Dashboard<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conozcamos-el-dashboard" title="Direct link to heading">#</a></h2><p>En este Dashboard encontrar√°s 7 p√°ginas con la informaci√≥n de los costos consumidos por tu cuenta de facturaci√≥n en Google Cloud, recuerda que para que el Dashboard tenga datos tienes que haber realizado el proceso anterior de copia y apuntarlo a tu dataset.</p><p><img src="https://cdn-images-1.medium.com/max/3288/0*jvYsh3AqtfiCWX5a.png"></p><ul><li><p><strong>All Products Cost</strong>: Este es un cuadro general con los costos por proyecto, por ubicaci√≥n geogr√°fica, que es muy importante para la capa gratuita y por cada uno de los servicio que estas utilizando entre todos tus proyectos. Los valores presentados representan el monto estimado a pagar por los servicios en el rango de tiempo seleccionado, por defecto se presenta el mes en curso.</p></li><li><p><strong>Compute Engine</strong>: Si bien no vimos un articulo asociado a Compute Engine, este servicio tiene mucha utilidad en la capa gratuita, y merece su propia p√°gina en el Dashboard. Esta p√°gina presenta un detalle de los umbrales para la capa gratuita de GCE, en la cabecera te encontrar√°s con la cantidad de<strong> horas, GB de disco/mes, GB de salida de la red</strong> y los costos estimados a pagar. Junto con lo anterior encontrar√°s el detalle de los SKU (Art√≠culos o productos que componen un servicio), las ubicaciones donde est√°n desplegadas las VMs y los servicios expresados en un gr√°fico de torta para ver los que mas gasto generan.</p></li><li><p><strong>App Engine</strong>: Uno de los m√°s completos servicios serverless en GCP es App Engine y claro, cuenta con una capa da uso gratuito y por eso tiene su lugar en el Dashboard, En este reporte encontrar√°s un detalle de los aspectos que involucra la capa gratuita para App engine, una cabecera con la cantidad de <strong>horas de Front End, GB almacenamiento, GB de salida de la red</strong> y los costos estimados a pagar. Junto con lo anterior encontrar√°s el detalle de los SKU y los servios expresados en un gr√°fico de torta para ver los que m√°s gasto generan.</p></li><li><p><strong>Cloud Functions</strong>: Este servicio los vimos en este <a href="https://medium.com/@felipe.velasquezc/entendiendo-la-capa-gratuita-de-gcp-cloud-functions-1644864529ec" target="_blank" rel="noopener noreferrer">articulo</a> y por supuesto tiene su p√°gina en el Dashboard. Aqu√≠ encontramos un detalle de los aspectos que involucra la capa gratuita para Cloud Functions, una cabecera con la cantidad de <strong>requests, Horas de CPU, GB de salida de la red</strong> y los costos estimados a pagar. Tambi√©n ver√°s un detalle de los SKU y un gr√°fico de linea que muestra la cantidad de requests, CPU y red para el periodo seleccionado, por defecto ver√°s los request por d√≠a del mes en curso.</p></li><li><p><strong>Cloud Run</strong>: Este nuevo servicio tambi√©n tiene su propio <a href="https://medium.com/@felipe.velasquezc/entendiendo-la-capa-gratuita-de-gcp-cloud-run-55021a30563f" target="_blank" rel="noopener noreferrer">articulo</a> que te ayudara a sacar el m√°ximo provecho a la capa gratuita. En el Dashboard encontramos un detalle de los aspectos que involucra la capa gratuita para Cloud Run junto con la cabecera que detalla la cantidad de <strong>requests, Horas de CPU, GB de salida de la red</strong> y los costos estimados a pagar. Tambi√©n ver√°s un detalle de los SKU y un gr√°fico de linea que muestra la cantidad de requests, CPU y red para el periodo seleccionado, por defecto ver√°s los request por d√≠a del mes en curso.</p></li></ul><p><img src="https://cdn-images-1.medium.com/max/3280/0*bV9oj4mYFUOHnMwK.png"></p><ul><li><p><strong>Cloud Storage</strong>: Si quieres ver como optimizar el uso de GCS te recomiendo ver este <a href="https://medium.com/@felipe.velasquezc/entendiendo-la-capa-gratuita-de-gcp-cloud-storage-f7a806b2932f" target="_blank" rel="noopener noreferrer">articulo</a>, Por otra parte en el Dashboard se presentan los aspectos que involucra la capa gratuita para GCS, la cabecera entrega informaci√≥n relativa a la cantidad de <strong>GB/mes, GB de salida de la red </strong>y los costos estimados a pagar. Ver√°s el detalle los SKU involucrados, las ubicaciones donde est√°n alojados los storages y los servicios expresados en un gr√°fico de torta para ver los que mas gasto generan.</p></li><li><p><strong>Other Services</strong>: Esta p√°gina del Dashboard concentra otros servicios incluidos en la capa gratuita, de los cuales <a href="https://medium.com/@felipe.velasquezc/entendiendo-la-capa-gratuita-de-gcp-bigquery-71c3c661e3c4" target="_blank" rel="noopener noreferrer">BigQuery</a> y <a href="https://medium.com/@felipe.velasquezc/entendiendo-la-capa-gratuita-de-gcp-cloud-run-55021a30563f" target="_blank" rel="noopener noreferrer">Pub/Sub</a> tiene tambi√©n su propio articulo. Tambi√©n podr√°s encontrar informaci√≥n del uso de Cloud Build.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="el-billing-es-una-ciencia"></a>El Billing es una ciencia<a aria-hidden="true" tabindex="-1" class="hash-link" href="#el-billing-es-una-ciencia" title="Direct link to heading">#</a></h2><p>Despu√©s de una serie de 7 art√≠culos hablando de costos es probable que creas que ya no hay nada que saber, sin embargos estos han dado solo una pincelada de lo que es realmente el manejo de costos dentro de GCP, aun queda mucho por ver y aprender. Y por eso te recomiendo que hagas estos Qwiklabs que llevan por titulo ‚ÄúOptimizing Your GCP Costs‚Äù <a href="https://www.qwiklabs.com/quests/97" target="_blank" rel="noopener noreferrer">https://www.qwiklabs.com/quests/97</a> en los que ver√°s cosas muy interesantes como las alertas de Billing y la eliminaci√≥n de IPs hu√©rfanas y discos sin uso.</p><p>Gracias por leer y nos vemos en el pr√≥ximo articulo.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Cloud Run</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Vigila la capa gratuita desde Data Studio ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#administraci√≥n-del-billing" class="table-of-contents__link">Administraci√≥n del Billing</a></li><li><a href="#habilitando-la-exportaci√≥n-de-billing" class="table-of-contents__link">Habilitando la exportaci√≥n de Billing</a></li><li><a href="#preparando-los-datos-para-el-dashboard" class="table-of-contents__link">Preparando los datos para el Dashboard</a></li><li><a href="#manos-a-la-obra-con-data-studio" class="table-of-contents__link">Manos a la obra con Data Studio</a></li><li><a href="#conozcamos-el-dashboard" class="table-of-contents__link">Conozcamos el Dashboard</a></li><li><a href="#el-billing-es-una-ciencia" class="table-of-contents__link">El Billing es una ciencia</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/doc2/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright ¬© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.013c8d47.js"></script>
<script src="/runtime~main.46f622b5.js"></script>
<script src="/main.073d793c.js"></script>
<script src="/1.e703ecdf.js"></script>
<script src="/2.dc528ce7.js"></script>
<script src="/1be78505.fb3d6394.js"></script>
<script src="/c4f5d8e4.00e30a00.js"></script>
<script src="/23.03cd1ab6.js"></script>
<script src="/22.4a7e3a59.js"></script>
<script src="/935f2afb.8f17e356.js"></script>
<script src="/17896441.3fab2027.js"></script>
<script src="/6b8f661a.d8f7b8ca.js"></script>
</body>
</html>