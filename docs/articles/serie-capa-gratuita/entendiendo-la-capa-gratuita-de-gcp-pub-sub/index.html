<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-179564597-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Cloud Pub/Sub | Cloud Articles Repo</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Cloud Pub/Sub | Cloud Articles Repo"><meta data-react-helmet="true" name="description" content="Serie de art√≠culos que te ayudar√° a sacar el m√°ximo provecho a Google Cloud sin pagar de m√°s , ahora veremos Cloud Pub/Sub."><meta data-react-helmet="true" property="og:description" content="Serie de art√≠culos que te ayudar√° a sacar el m√°ximo provecho a Google Cloud sin pagar de m√°s , ahora veremos Cloud Pub/Sub."><meta data-react-helmet="true" name="keywords" content="Google Cloud Platform,Gcp,Cloud,Economy,Billing,Pub/Sub"><meta data-react-helmet="true" property="og:image" content="https://cloud-docs.github.io/./portada.jpeg"><meta data-react-helmet="true" property="twitter:image" content="https://cloud-docs.github.io/./portada.jpeg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Cloud Pub/Sub"><meta data-react-helmet="true" property="og:url" content="https://cloud-docs.github.io/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-pub-sub"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cloud-docs.github.io/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-pub-sub"><link rel="stylesheet" href="/styles.36cc8dcc.css">
<link rel="preload" href="/styles.7f684fbb.js" as="script">
<link rel="preload" href="/runtime~main.b575e549.js" as="script">
<link rel="preload" href="/main.770f0b20.js" as="script">
<link rel="preload" href="/1.d15165e9.js" as="script">
<link rel="preload" href="/2.f263c672.js" as="script">
<link rel="preload" href="/1be78505.b01015e7.js" as="script">
<link rel="preload" href="/c4f5d8e4.aa7079aa.js" as="script">
<link rel="preload" href="/20.fd2ceda9.js" as="script">
<link rel="preload" href="/19.cc8db11a.js" as="script">
<link rel="preload" href="/935f2afb.ed478422.js" as="script">
<link rel="preload" href="/17896441.277ac917.js" as="script">
<link rel="preload" href="/efff6e17.bb6ed952.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="GDG Cloud Santiago"><strong class="navbar__title">GDG Cloud Santiago</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gdgcloudsantiagoapp/technical-articles" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="GDG Cloud Santiago"><strong class="navbar__title">GDG Cloud Santiago</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/gdgcloudsantiagoapp/technical-articles" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Example</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Style Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Articulos</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Capa Gratuita</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp">Entendiendo la capa gratuita de GCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-functions">Cloud Functions</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-pub-sub">Cloud Pub/Sub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-storage">Cloud Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-bigquery">Bigquery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-run">Cloud Run</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio">Vigila la capa gratuita desde Data Studio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/articles/serie-capa-gratuita/vigila-el-uso-de-la-capa-gratuita-desde-data-studio">Vigila la capa gratuita desde Data Studio</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Arquitecturas</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architectures/nivelacion-kubernetes">Nivelaci√≥n Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/articles/doc3">This is Document Number 3</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Cloud Pub/Sub</h1></header><div class="markdown"><div class="writter"><div class="ilb"><a href="https://miro.medium.com/fit/c/256/256/2*XKiHV-3_LJvO6xeiGKheDQ.png"><img alt="Felipe Velasquez Castro" src="https://miro.medium.com/fit/c/256/256/2*XKiHV-3_LJvO6xeiGKheDQ.png" width="80" height="80"></a></div><div class="ilb"><div><p>Written by</p></div><div><h2>Felipe Velasquez Castro</h2><div></div></div><div><h4>Google Developer Expert</h4></div></div></div><p>Serie de art√≠culos que te ayudar√° a sacar el m√°ximo provecho a Google Cloud sin pagar de m√°s , ahora veremos Cloud Pub/Sub.</p><p><em>Articulo principal<strong> [</strong>aqu√≠](<a href="https://medium.com/@felipe.velasquezc/entendiendo-la-capa-gratuita-de-gcp-2d80143f70f1?source=friends_link&amp;sk=e7c4c52c1702efb51103762f587eb5cb" target="_blank" rel="noopener noreferrer">https://medium.com/@felipe.velasquezc/entendiendo-la-capa-gratuita-de-gcp-2d80143f70f1?source=friends_link&amp;sk=e7c4c52c1702efb51103762f587eb5cb</a>)</em></p><p><a href="/docs/articles/serie-capa-gratuita/undefined">*Julio Quinteros P.</a> es responsable de gran parte de este articulo :)*</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="caracter√≠sticas-principales"></a>Caracter√≠sticas principales<a aria-hidden="true" tabindex="-1" class="hash-link" href="#caracter√≠sticas-principales" title="Direct link to heading">#</a></h2><p>Otro servicio √≠cono de GCP es <a href="https://cloud.google.com/pubsub/" target="_blank" rel="noopener noreferrer">Cloud Pub/Sub</a>: Este es un servicio full administrado de mensajer√≠a, fundamental para tus <a href="https://es.wikipedia.org/wiki/Arquitectura_dirigida_por_eventos" target="_blank" rel="noopener noreferrer">*arquitecturas basadas en eventos</a><em>, ya que puedes definir un </em>t√≥pico<em> y asociados a este, tener tanto </em>publicadores de mensajes<em>, como </em>suscriptores* interesados en los mensajes de dicho t√≥pico.</p><p>Pub/Sub al ser full administrado por Google escala seg√∫n la necesidad de forma autom√°tica, y tiene una muy alta performance.</p><p>Puedes conectarlo de forma nativa a m√∫ltiples productos de GCP entre los m√°s significativos para nuestros escasos recursos son Cloud Functions y las alertas de Billing (que veremos en otro articulo).</p><p><img src="https://cdn-images-1.medium.com/max/2000/0*QEAOy-pa251rkYtZ.png"></p><p><em>(opciones de productos a conectar‚Ä¶ ¬øreconoces los √≠conos de los productos?)</em></p><p>Sin lugar a dudas querr√°s tener t√≥picos de Pub/Sub en tu infraestructura pero debes tener presente cuales son los umbrales considerados dentro de la capa gratuita y cuanto pagar√°s si te pasas.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="capacuota-gratuita"></a>Capa/cuota gratuita<a aria-hidden="true" tabindex="-1" class="hash-link" href="#capacuota-gratuita" title="Direct link to heading">#</a></h2><p>La capa gratuita de Pub/Sub contempla los <strong>10 primeros GB gratis</strong>, si te pasas como promedia pagar√°s <strong>USD 0.90</strong> por cada 10 GB, ahora, si te pasas de eso como referencia pagar√°s USD60 por cada TB extra y <a href="https://cloud.google.com/pubsub/pricing" target="_blank" rel="noopener noreferrer">entre m√°s TB uses m√°s barato ser√°</a>. Esto quiere decir que tenemos <strong>*10 GB</strong> de transferencia<em> y </em>hasta 10.000 t√≥picos* que podemos utilizar gratis todos los meses, si quieres m√°s informaci√≥n aqu√≠ te dejo el link a las <a href="https://cloud.google.com/pubsub/quotas#resource_limits" target="_blank" rel="noopener noreferrer">cuotas y l√≠mites</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="c√≥mo-debes-usarlo-para-no-pasarte-de-los-l√≠mites"></a>C√≥mo debes usarlo para no pasarte de los l√≠mites<a aria-hidden="true" tabindex="-1" class="hash-link" href="#c√≥mo-debes-usarlo-para-no-pasarte-de-los-l√≠mites" title="Direct link to heading">#</a></h2><p>Mientras no se muevan m√°s de <strong>10 GB,</strong> o no crees m√°s de 10.000 t√≥picos, no deber√≠as pagar nada. Sin embargo debes considerar como mide el tama√±o m√≠nimo de los mensajes este servicio para no tener sorpresas.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ojo-quota-units"></a>Ojo: Quota units<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ojo-quota-units" title="Direct link to heading">#</a></h2><p>Si vamos a la documentaci√≥n <em>en ingl√©s</em> (cosa que recomendamos ampliamente, las traducciones no siempre est√°n al d√≠a!):</p><p><em>Cada solicitud o respuesta medida cuenta como ‚Äúel mayor de 1 kB o el tama√±o total de la solicitud o respuesta‚Äù.</em></p><p><em>El uso de la cuota para cada solicitud o respuesta se redondea al incremento de 1 kB m√°s cercano. Considere una solicitud de publicaci√≥n con 100 mensajes de 50 bytes cada uno y una longitud de nombre de tema igual a 30 bytes. El uso de la cuota de la solicitud ser√≠a max(1, ceil (5030/1000)) = 6kB.</em></p><p>Puntualmente en la documentaci√≥n se indica esto:</p><p><em>Pueden producirse desajustes de cuota cuando los mensajes publicados o recibidos son menores de 1000 bytes. Por ejemplo:</em></p><ul><li><p><em>Si publica 10 mensajes de 500 bytes en solicitudes separadas, el uso de la cuota de su publicador ser√° de 10,000 bytes. Esto se debe a que los mensajes de menos de 1000 bytes se redondean autom√°ticamente al siguiente incremento de 1000 bytes.</em></p></li><li><p><em>Si recibe esos 10 mensajes en una sola respuesta, el uso de la cuota de suscriptor podr√≠a ser de s√≥lo 5 kB, ya que el tama√±o real de cada mensaje se combina para determinar la cuota general.</em></p></li><li><p><em>La inversa tambi√©n es cierta. El uso de la cuota del suscriptor puede ser mayor que el uso de la cuota del publicador si publica varios mensajes en una sola solicitud de publicaci√≥n o recibe los mensajes en respuestas separadas.</em></p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="todo-se-debe-medir"></a>Todo se debe medir<a aria-hidden="true" tabindex="-1" class="hash-link" href="#todo-se-debe-medir" title="Direct link to heading">#</a></h2><p>Recuerda que siempre puedes monitorear el uso de recursos.</p><p>Tu mejor aliado para esto es sin duda alguna <a href="https://github.com/develasquez/understanding-gcp-free-tier/blob/master/seasons/S01" target="_blank" rel="noopener noreferrer">stackdriver</a>: puedes leer m√°s respecto al monitoreo de pubsub <a href="https://cloud.google.com/pubsub/docs/monitoring" target="_blank" rel="noopener noreferrer">en este enlace</a>. Con stackdriver recuerda que puedes no s√≥lo visualizar dashboards interactivos, lo mejor es establecer alertas que te permitir√°n reaccionar a tiempo (para evitar sobreconsumos, por ejemplo). En el caso de pubsub, dispones de <a href="https://cloud.google.com/monitoring/api/metrics_gcp#gcp-pubsub" target="_blank" rel="noopener noreferrer">varias m√©tricas para monitorear</a>.</p><p>Tambi√©n en la Season 02 veremos un Dashboard de Sata Studio que te ayudar√° a saber cuanto has consumido y cuanto tendr√°s que pagar por ellos a fin de mes.</p><p>Nos vemos en el pr√≥ximo articulo.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/articles/serie-capa-gratuita/pub-sub.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-functions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Cloud Functions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/articles/serie-capa-gratuita/entendiendo-la-capa-gratuita-de-gcp-cloud-storage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cloud Storage ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#caracter√≠sticas-principales" class="table-of-contents__link">Caracter√≠sticas principales</a></li><li><a href="#capacuota-gratuita" class="table-of-contents__link">Capa/cuota gratuita</a></li><li><a href="#c√≥mo-debes-usarlo-para-no-pasarte-de-los-l√≠mites" class="table-of-contents__link">C√≥mo debes usarlo para no pasarte de los l√≠mites</a></li><li><a href="#ojo-quota-units" class="table-of-contents__link">Ojo: Quota units</a></li><li><a href="#todo-se-debe-medir" class="table-of-contents__link">Todo se debe medir</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/doc2/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright ¬© 2020 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.7f684fbb.js"></script>
<script src="/runtime~main.b575e549.js"></script>
<script src="/main.770f0b20.js"></script>
<script src="/1.d15165e9.js"></script>
<script src="/2.f263c672.js"></script>
<script src="/1be78505.b01015e7.js"></script>
<script src="/c4f5d8e4.aa7079aa.js"></script>
<script src="/20.fd2ceda9.js"></script>
<script src="/19.cc8db11a.js"></script>
<script src="/935f2afb.ed478422.js"></script>
<script src="/17896441.277ac917.js"></script>
<script src="/efff6e17.bb6ed952.js"></script>
</body>
</html>